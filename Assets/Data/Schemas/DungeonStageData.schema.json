{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://lff.game/schema/DungeonStageData.schema.json",
    "title": "DungeonStageData",
    "description": "ダンジョンステージデータ定義",
    "type": "object",
    "properties": {
        "width": {
            "type": "integer",
            "minimum": 1,
            "description": "ステージの横幅（マス単位）"
        },
        "height": {
            "type": "integer",
            "minimum": 1,
            "description": "ステージの縦幅（マス単位）"
        },
        "enemySpawns": {
            "type": "array",
            "description": "ステージ開始時の敵配置情報",
            "items": {
                "$ref": "#/$defs/EnemySpawnData"
            },
            "minItems": 0
        },
        "fieldObjects": {
            "type": "array",
            "description": "固定ギミックや障害物の配置",
            "items": {
                "$ref": "#/$defs/FieldObjectData"
            },
            "minItems": 0
        }
    },
    "required": [ "width", "height" ],
    "additionalProperties": false,

    "$defs": {
        "EnemySpawnData": {
            "type": "object",
            "properties": {
                "enemyId": {
                    "type": "string",
                    "description": "配置する敵ID"
                },
                "x": {
                    "type": "integer",
                    "minimum": 0
                },
                "y": {
                    "type": "integer",
                    "minimum": 0
                }
            },
            "required": [ "enemyId", "x", "y" ],
            "additionalProperties": false
        },
        "FieldObjectData": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "オブジェクト種別（例: Rock, Crystal など）"
                },
                "x": {
                    "type": "integer",
                    "minimum": 0
                },
                "y": {
                    "type": "integer",
                    "minimum": 0
                }
            },
            "required": [ "type", "x", "y" ],
            "additionalProperties": false
        }
    }
}
